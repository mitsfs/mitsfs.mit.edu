title: Schedule
{% extends "standard.html" %}

{% block css %}
<link rel="stylesheet" href="{% static '/static/scheduler/dhtmlxscheduler_flat.css' %}" type="text/css">
{% endblock %}

{% block scripts %}
<script src="{% static '/static/js/ical.js' %}" type="text/javascript"></script>
<script src="{% static '/static/scheduler/dhtmlxscheduler.js' %}" type="text/javascript"></script>
<script src="{% static '/static/scheduler/dhtmlxscheduler_multisource.js' %}" type="text/javascript"></script>
<script src="{% static '/static/scheduler/dhtmlxscheduler_recurring.js' %}" type="text/javascript"></script>
<script src="{% static '/static/scheduler/dhtmlxscheduler_ical.js' %}" type="text/javascript"></script>
<script src="{% static '/static/scheduler/dhtmlxscheduler_tooltip.js' %}"  type="text/javascript"></script>

<script>
  scheduler.config.show_loading = true;
  scheduler.config.readonly = true;
  scheduler.config.first_hour = 12;
  scheduler.config.show_quick_info = false;
  scheduler.config.occurrence_timestamp_in_utc = true;
  scheduler.config.day_date = "%D %m/%d";
  scheduler.config.default_date = "%l, %M-%d, %Y";
  dhtmlXTooltip.config.className = 'dhtmlXTooltip tooltip'; 
  scheduler.templates.tooltip_text = function(start,end,event) {
    if (event.calendar_name === "mitsfs_events"){
      return "<h4>"+event.text+"</h4><strong>Where:</strong> "+event.location + "<br><strong>Details:</strong> " + event.details
    } else {
      return null; 
    }
  };
  scheduler.templates.week_date = function(start, end){
    var d=scheduler.date.date_to_str;
    var end = scheduler.date.add(end,-1,"day")
    if (start.getFullYear() !== end.getFullYear()){
      return d("%M %d, %Y")(start) + " &ndash; "+ d("%M %d, %Y")(end)
    } else if (start.getMonth() !== end.getMonth()){
      return d("%M %d")(start) + " &ndash; "+ d("%M %d, %Y")(end)
    } else {
      return d("%M %d")(start) + " &ndash; "+ d("%d, %Y")(end)
    }
  };
  scheduler.templates.day_scale_date = function(date){
    return scheduler.date.date_to_str("%D %m/%d")(date);
  };
  scheduler.init('mitsfs_schedule', new Date(),"week");
  scheduler.load(["http://calendar.mitsfs.scripts.mit.edu/events", "http://calendar.mitsfs.scripts.mit.edu/schedule"] , 'ical');
</script>
{% endblock %}


{% block content %}
<div class="panel schedule-container">
  <div id="mitsfs_schedule" class="dhx_cal_container panel">
    <div class="dhx_cal_navline row">
    <div class="col-sm-7" style="padding-left:0px">
        <div class="dhx_cal_today_button"></div>
        <div class="dhx_cal_date"></div>
      </div>
      <div class="col-sm-5" style="padding-right: 4px;">
        <div class="dhx_cal_tab pull-right" name="week_tab"></div>
        <div class="dhx_cal_tab pull-right" name="day_tab"></div>
        <div class="dhx_cal_next_button pull-right">&nbsp;</div>
        <div class="dhx_cal_prev_button pull-right">&nbsp;</div>        
      </div>
    </div>
    <div class="dhx_cal_header"></div>
    <div class="dhx_cal_data"></div>
  </div>
</div>
<div class="calendar-links row">
  <div class="col-sm-6">
    <h4>MITSFS Events</h4>
    <a target="_blank" href="https://www.google.com/calendar/render?cid=e4bij68ddubsenh0tttpto86bk%40group.calendar.google.com&amp;ctz=America/New_York"><img src="{% static '/static/images/calendar_plus_en.gif'%}"></a>
    <a target="_blank" href="https://www.google.com/calendar/feeds/e4bij68ddubsenh0tttpto86bk%40group.calendar.google.com/public/basic"><img src="{% static '/static/images/xml.gif'%}"></a>
    <a target="_blank" href="https://www.google.com/calendar/ical/e4bij68ddubsenh0tttpto86bk%40group.calendar.google.com/public/basic.ics"><img src="{% static '/static/images/ical.gif'%}"></a>
  </div>
  <div class="col-sm-6">
    <h4>MITSFS Library Schedule</h4>
    <a target="_blank" href="https://www.google.com/calendar/render?cid=nec0mqhbmvui36s0bndfi0o918%40group.calendar.google.com&amp;ctz=America/New_York"><img src="{% static '/static/images/calendar_plus_en.gif'%}"></a>
    <a target="_blank" href="https://www.google.com/calendar/feeds/nec0mqhbmvui36s0bndfi0o918%40group.calendar.google.com/public/basic"><img src="{% static '/static/images/xml.gif'%}"></a>
    <a target="_blank" href="https://www.google.com/calendar/ical/nec0mqhbmvui36s0bndfi0o918%40group.calendar.google.com/public/basic.ics"><img src="{% static '/static/images/ical.gif'%}"></a>
  </div>
</div>
{% endblock %}